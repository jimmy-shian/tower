<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Text Search</title>
    <style>
        /* 在此添加你的 CSS */
    </style>
</head>
<body>
    <h1>JSON Text Search</h1>
    <input type="text" id="searchInput" placeholder="輸入關鍵字...">
    <button onclick="searchJSON()">搜尋</button>

    <h2>選擇搜尋欄位：</h2>
    <label><input type="checkbox" data-field="Image Name">Image Name</label>
    <!-- <label><input type="checkbox" data-field="Data Url">Data Url</label> -->
    <label><input type="checkbox" data-field="屬性">屬性</label>
    <label><input type="checkbox" data-field="種族">種族</label>
    <label><input type="checkbox" data-field="最小CD" data-field2="最小EP">最小CD/EP</label>
    <label><input type="checkbox" data-field="主動技效果">主動技</label>
    <label><input type="checkbox" data-field="隊長技效果">隊長技</label>
    <label><input type="checkbox" data-field="Team Skills">隊伍技</label>
    <!-- 其他欄位選項 -->

    <div id="results"></div>

    <script>
        var searchData = [
            {
        "Image Name":"No. 10345 永恆水手月亮",
        "Data Url":"https:\/\/tos.fandom.com\/zh\/wiki\/%E6%B0%B8%E6%81%86%E6%B0%B4%E6%89%8B%E6%9C%88%E4%BA%AE",
        "屬性":"光",
        "種族":"人類",
        "最小CD":null,
        "主動技名稱":"['銀色月光水晶力量 ‧ 強', '星光蜜月療癒之吻']",
        "主動技效果":"['I. 將所有符石轉化為⇒ 人族強化符石1 回合內II. 增加 10 連擊(Combo、Ex. Combo)III. 消除符石後⓵ 單數直行首批掉落⇒ 心人族符石⓶ 雙數直行首批掉落⇒ 光人族符石', 'I. 將所有符石轉化為⇒ 固定數量及位置的五屬及心符石2 回合內II. 連擊 (Combo) 時攻擊力提升 200%III. 自身無視⇒「反首消符石盾」']",
        "隊長技名稱":"愛與正義 ‧ 強",
        "隊長技效果":"I. 光屬性及人類成員⇒ 攻擊力 10 倍、生命力及回復力 1.5 倍II.「晚禮服假面」及【水手戰士】成員⇒ 生命力、攻擊力及回復力額外 1.6 倍III. 消除 ≥2 種符石⇒ 全隊攻擊力 5 倍IV. 消除光或心符石⓵ 自身攻擊力 5 倍⓶ 自身無視「固定連擊盾」",
        "Team Skills":"隊伍技能隊伍技能：◆ 消除 ≥15 粒心符石⇒【水手戰士】成員⓵ 技能 CD -1⓶ 技能 EP +1◆【水手戰士】成員⇒ 不會被封鎖主動技能發動條件：以「超級水手月亮」或「永恆水手月亮」作隊長及戰友==============================隊伍技能：◆ 必然延長移動符石時間 4 秒◆ 所有符石兼具⇒ 150% 所有符石效果◆ 將移動符石時觸碰的電擊、凍結、弱化、化血、石化符石狀態解除⇒ 並添加為人族符石◆ 達至 ≥4 連擊 (Combo)⇒ 全隊攻擊力 4 倍◆ 根據最後結束轉珠時放手的符石種類⇒ 於回合結束時將隊長直行符石移除⇒ 掉落該種人族強化符石◆「燃燒」傷害減至 1◆ 觸碰「暴風」仍可移動符石◆【水手戰士】成員⓵ 無視「指定形狀盾」⓶ 無視「連擊相等盾」發動條件：以「永恆水手月亮」作隊長，並以【水手戰士】成員作戰友==============================隊伍技能：◆ 獲得「水晶力量」：▋將所有符石轉化為⇒ 隊長屬性及心符石各 15 粒◆ 於回合開始時點擊已儲滿的龍脈儀⇒ 可觸發「水晶力量」能力(需消耗 100% 龍脈儀能量)發動條件：以【水手戰士】成員作隊長及戰友＊能量 (EP) 儲存條件：1 回合內每消除 4 組符石⇒ 儲存 1 EP⇒ 每回合最多儲存 2 EP",
        "最小EP":7.0
    },
    {
        "Image Name":"No. 10346 超級水手土星",
        "Data Url":"https:\/\/tos.fandom.com\/zh\/wiki\/%E8%B6%85%E7%B4%9A%E6%B0%B4%E6%89%8B%E5%9C%9F%E6%98%9F",
        "屬性":"暗",
        "種族":"人類",
        "最小CD":"7",
        "主動技名稱":"不動城壁",
        "主動技效果":"I. 所受傷害減至 0(包括「喋血屠刀」等扣除召喚師指定 % 生命力的敵技所造成的傷害)II. 自身攻擊力 3.5 倍效果持續至受到敵人 3 次攻擊(效果持續期間技能不會冷卻)III. 若隊中只有【水手戰士】成員⇒ 則效果持續期間可以冷卻",
        "隊長技名稱":"土星水晶力量",
        "隊長技效果":"I.【水手戰士】及暗屬性成員⇒ 攻擊力 7 倍、生命力及回復力 1.8 倍II. 消除暗符石⓵ 全隊攻擊力 3.5 倍⓶【水手戰士】成員追打暗屬性攻擊 1 次",
        "Team Skills":"隊伍技能隊伍技能：◆【水手戰士】成員⇒ 無視「固定連擊盾」◆ 隊長進場 CD -5◆ 必然延長移動符石時間 3 秒◆ 暗及心符石兼具所有符石效果◆ 暗符石效果提升 200%◆ 消除 1 組 ≥5 粒符石⓵ 全隊攻擊力 5 倍⓶ 增加 5 連擊 (Combo)◆ 首批消除所有符石⇒【水手戰士】成員攻擊力 2 倍◆ 回合結束時，將頂 1 橫行符石轉化為⇒ 暗人族強化符石發動條件：以「超級水手土星」作隊長，並以【水手戰士】成員作戰友==============================隊伍技能：◆ 獲得「水晶力量」：▋將所有符石轉化為⇒ 隊長屬性及心符石各 15 粒◆ 於回合開始時點擊已儲滿的龍脈儀⇒ 可觸發「水晶力量」能力(需消耗 100% 龍脈儀能量)發動條件：以【水手戰士】成員作隊長及戰友",
        "最小EP":null
    },
        ];

        function searchJSON() {
            var searchKeyword = document.getElementById("searchInput").value.toLowerCase();
            var resultsDiv = document.getElementById("results");
            var selectedFields = getSelectedFields();

            resultsDiv.innerHTML = "";

            searchData.forEach(item => {
                var match = false;

                // 檢查是否符合選擇的欄位
                selectedFields.forEach(field => {
                    if (item[field.fieldName]) {
                        var fieldValue = item[field.fieldName].toLowerCase();
                        if (fieldValue.includes(searchKeyword)) {
                            match = true;
                        }
                    }
                });

                // ...
                if (match) {
                    // 創建一個 <div> 元素，用來顯示符合條件的資料
                    var resultItem = document.createElement("div");
                    
                    // 創建一個 <table> 元素，用來顯示資料的表格
                    var table = document.createElement("table");
                    
                    // 創建表格的表頭行
                    var tableHeader = document.createElement("tr");
                    
                    // 使用 Object.keys() 取得 JSON 資料的所有屬性名稱作為表頭
                    var headers = Object.keys(item);
                    
                    // 將屬性名稱加入表頭行中
                    headers.forEach(header => {
                        var th = document.createElement("th");
                        th.textContent = header;
                        tableHeader.appendChild(th);
                    });
                    
                    // 將表頭行加入表格中
                    table.appendChild(tableHeader);
                    
                    // 創建表格的資料行
                    var tableRow = document.createElement("tr");
                    
                    // 使用 Object.values() 取得 JSON 資料的所有屬性值作為資料行內容
                    var values = Object.values(item);
                    
                    // 將屬性值加入資料行中
                    values.forEach(value => {
                        var td = document.createElement("td");
                        td.textContent = value;
                        tableRow.appendChild(td);
                    });
                    
                    // 將資料行加入表格中
                    table.appendChild(tableRow);
                    
                    // 將表格加入用來顯示結果的 <div> 元素中
                    resultItem.appendChild(table);
                    
                    // 將整個結果 <div> 加入用來顯示結果的 <div> 元素中
                    resultsDiv.appendChild(resultItem);
                }
                // ...

            });
        }

        function getSelectedFields() {
            var selectedFields = [];

            var checkboxes = document.querySelectorAll("input[type=checkbox]:checked");

            checkboxes.forEach(checkbox => {
                var fieldName = checkbox.getAttribute("data-field");

                selectedFields.push({
                    fieldName: fieldName
                });
            });

            return selectedFields;
        }
    </script>
</body>
</html>
